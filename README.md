# 日本株式分析MCPサーバー v2.0 - プロフェッショナル版

日本株の**株価分析（テクニカル）**と**企業業績分析（ファンダメンタルズ）**を統合し、**高度な投資分析機能**を提供するMCP（Model Context Protocol）サーバーです。

## 🎉 v2.0の新機能

### ✨ 高度なテクニカル指標
- **ボリンジャーバンド** - ボラティリティ分析、スクイーズ検出
- **一目均衡表** - 日本株に最適なトレンド分析
- **ATR** - ボラティリティ測定、ストップロス推奨
- **ストキャスティクス** - 買われすぎ/売られすぎ判定

### 💰 キャッシュフロー・成長性分析
- フリーキャッシュフロー分析
- FCFマージン、現金化率
- 売上・利益成長率
- EPS成長率

### 🔍 スクリーニング機能
- カスタム条件での銘柄抽出
- PER、PBR、ROE、配当利回りなどで絞り込み

### 📊 セクター比較
- 同業他社との比較
- セクター平均との対比
- 業界内ランキング

### 📈 ポートフォリオ最適化
- 最適資産配分の計算
- リスク・リターン分析
- 相関分析と分散効果評価
- シャープレシオ最大化

### ⚠️ リスク分析
- ベータ値
- 最大ドローダウン
- VaR（バリュー・アット・リスク）
- ボラティリティ分析

## 機能一覧

### 基本機能

| ツール | 説明 |
|--------|------|
| `get_stock_price` | 株価データ取得（日足） |
| `get_current_price` | 現在価格と変動情報 |
| `analyze_stock` | テクニカル分析（RSI、MACD、移動平均） |
| `compare_stocks` | 複数銘柄のテクニカル比較 |
| `find_best_stocks` | 投資期間別の推奨銘柄 |

### ファンダメンタルズ分析

| ツール | 説明 |
|--------|------|
| `get_fundamentals` | 財務データとファンダメンタルズ分析 |
| `analyze_comprehensive` | テクニカル+ファンダメンタルズ統合分析 |

### 高度な分析（NEW!）

| ツール | 説明 |
|--------|------|
| `get_advanced_technicals` | ボリンジャーバンド、一目均衡表、ATR、ストキャスティクス |
| `screen_stocks` | カスタム条件でのスクリーニング |
| `compare_sector` | セクター比較分析 |
| `optimize_portfolio` | ポートフォリオ最適化 |
| `analyze_correlation` | 銘柄間の相関分析 |
| `analyze_risk` | リスク分析（ベータ、VaR、ドローダウン） |

## セットアップ

### 前提条件

- **Node.js 18以上** (必須)
- **Python 3.8以上** (ファンダメンタルズ分析を使用する場合に推奨)

### 1. 自動セットアップ（推奨）

```bash
cd japan-stock-mcp
./setup.sh
```

### 2. Claude DesktopまたはClineへの設定

設定ファイルに以下を追加:

```json
{
  "mcpServers": {
    "japan-stock": {
      "command": "node",
      "args": ["/絶対パス/japan-stock-mcp/dist/index.js"]
    }
  }
}
```

詳細は `INSTALL.md` を参照してください。

## 使用例

### 高度なテクニカル分析

```
ソニーグループ（6758）のボリンジャーバンドと一目均衡表を分析してください
```

### スクリーニング

```
以下の条件で銘柄をスクリーニングしてください:
- PER < 15
- ROE > 10%
- 配当利回り > 3%

対象: 7203, 6758, 9984, 8306, 9432
```

### ポートフォリオ最適化

```
以下の銘柄で最適なポートフォリオを作成してください:
7203, 6758, 9984, 8306, 9432

シャープレシオを最大化する配分比率を教えてください
```

### リスク分析

```
ソフトバンクグループ（9984）のリスクを分析してください
```

詳細な使用例は `EXAMPLES.md` を参照してください。

## トラブルシューティング

詳細は `TROUBLESHOOTING.md` を参照してください。

## ライセンス

MIT
